<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robinson Roof Inspections - Expert Steep Roof Assessments in Texas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Robinson Roof Inspections</h1>
            <nav>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#appointment">Book Inspection</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li><a href="admin.html">Admin Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="home">
        <div class="container">
            <h2>Welcome to Robinson Roof Inspections</h2>
            <p>Expert roof inspections for busy contractors, realtors, and home inspection companies in Texas. Specializing in steep roof access, we deliver detailed photo reports, labeled findings, and clear recommendations for insurance claims, repairs, replacements, or confirmation of good condition.</p>
            <a href="#appointment" class="btn">Book an Inspection</a>
        </div>
    </section>

    <section id="services">
        <div class="container">
            <h2>Our Inspection Services</h2>
            <div class="services-grid">
                <div class="service-item">
                    <h3>Steep Roof Inspections</h3>
                    <p>Safe and thorough assessments of high-pitch roofs using specialized equipment, tailored for contractors and realtors.</p>
                </div>
                <div class="service-item">
                    <h3>Photo Reports & Recommendations</h3>
                    <p>Detailed reports with labeled photos, summarizing roof conditions and recommending insurance claims, repairs, or replacements.</p>
                </div>
                <div class="service-item">
                    <h3>Real Estate & Insurance Support</h3>
                    <p>Fast, reliable inspections for home inspectors and realtors, supporting real estate transactions and insurance claims.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="projects">
        <div class="container">
            <h2>Sample Inspection Reports</h2>
            <div class="projects-grid">
                <div class="project-item">
                    <img src="images/report1.jpg" alt="Steep Roof Inspection">
                    <p>Steep Roof Inspection with Labeled Damage Photos</p>
                </div>
                <div class="project-item">
                    <img src="images/report2.jpg" alt="Insurance Claim Report">
                    <p>Insurance Claim Report for Storm Damage</p>
                </div>
                <div class="project-item">
                    <img src="images/report3.jpg" alt="Residential Roof Assessment">
                    <p>Residential Roof in Good Condition</p>
                </div>
            </div>
            <p>To update sample reports, replace the image files in the "images" folder and update the src paths in the HTML.</p>
        </div>
    </section>

    <section id="appointment">
        <div class="container">
            <h2>Book an Inspection</h2>
            <form id="appointment-form">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
                <label for="email">Email:</label>
                <input type="email" id="email" name="_replyto" required>
                <p id="email-error" style="color: red; display: none;">Please enter a valid email with @ and .</p>
                <label for="phone">Phone:</label>
                <input type="tel" id="phone" name="phone" required placeholder="555 123 4567">
                <p id="phone-error" style="color: red; display: none;">Please enter a 10-digit phone number (spaces are okay).</p>
                <label for="address">Property Address:</label>
                <input type="text" id="address" name="address" placeholder="123 Main St, City, ST 12345">
                <label for="date">Preferred Inspection Date:</label>
                <input type="date" id="date" name="date" required>
                <label for="message">Additional Details:</label>
                <textarea id="message" name="message"></textarea>
                <button type="submit" class="btn">Submit</button>
                <p id="form-message" style="display: none; margin-top: 1rem;"></p>
            </form>
        </div>
    </section>

    <section id="contact">
        <div class="container">
            <h2>Contact Us</h2>
            <p>Email: info@robinsonroofinspections.com</p>
            <p>Phone: (555) 123-4567</p>
            <p>Address: 123 Texas Ave, Austin, TX 78701</p>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>Â© 2025 Robinson Roof Inspections. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.getElementById('appointment-form').addEventListener('submit', function(e) {
            e.preventDefault(); // Prevent default form submission
            console.log('Form submission triggered'); // Debug log

            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const phoneDigits = phone.replace(/\D/g, ''); // Remove non-digits
            const phoneError = document.getElementById('phone-error');
            const emailError = document.getElementById('email-error');
            const formMessage = document.getElementById('form-message');

            // Reset error messages
            phoneError.style.display = 'none';
            emailError.style.display = 'none';
            formMessage.style.display = 'none';

            // Phone validation: exactly 10 digits
            if (phoneDigits.length !== 10) {
                phoneError.style.display = 'block';
                console.log('Phone validation failed:', phoneDigits); // Debug log
                return;
            }

            // Email validation: contains @ and .
            if (!email.includes('@') || !email.includes('.')) {
                emailError.style.display = 'block';
                console.log('Email validation failed:', email); // Debug log
                return;
            }

            // Collect form data
            const formData = new FormData(this);
            console.log('Submitting form data:', Array.from(formData.entries())); // Debug log

            // Submit to Formspree via AJAX
            fetch('https://formspree.io/f/xkgzjnpy', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                console.log('Formspree response:', response.status, response.statusText); // Debug log
                return response.json().then(data => ({ status: response.status, data }));
            })
            .then(({ status, data }) => {
                if (status >= 200 && status < 300) {
                    formMessage.style.display = 'block';
                    formMessage.style.color = 'green';
                    formMessage.textContent = 'Inspection request submitted! We will contact you soon.';
                    this.reset(); // Clear form
                } else {
                    formMessage.style.display = 'block';
                    formMessage.style.color = 'red';
                    formMessage.textContent = `Error submitting form: ${data.error || 'Please try again.'}`;
                    console.log('Formspree error data:', data); // Debug log
                }
            })
            .catch(error => {
                console.log('Network error:', error); // Debug log
                formMessage.style.display = 'block';
                formMessage.style.color = 'red';
                formMessage.textContent = 'Error submitting form. Please check your connection.';
            });
        });
    </script>
</body>
</html>
